"use strict";angular.module("angular-sms-button",[]).directive("smsButton",["SmsButton",function(a){return{link:function(a,b,c,d){var e=a.$eval(c.smsButtonModel),f=function(){e.isRunning=!1,clearInterval(e.timer),b.text(e.initText),b.removeAttr("disabled"),e.onStop&&e.onStop()},g=function(){var c=function(){e.isRunning=!0,e.seconds-=1,0==e.seconds?f():(b.attr("disabled","disabled"),b.text(e.waitTextFormatter(e.seconds)))};a.$$phase?c():a.$apply(c)};e.isRunning=!1,b.text(e.initText),e.start=function(){e.seconds=e.waitSeconds+1,g(),e.timer=setInterval(g,1e3)},e.stop=f}}}]).provider("SmsButtonConfig",function(){var a={};return a.initText="Send",a.waitSeconds=30,a.waitTextFormatter=function(a){return"Resend ("+String(a)+")"},a.$get=function(){return a},a}).factory("SmsButton",["SmsButtonConfig",function(a){function b(b){for(var c in a)this[c]=a[c];for(c in b)this[c]=b[c]}return b}]);